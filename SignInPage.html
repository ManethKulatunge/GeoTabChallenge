<!DOCTYPE html>
<html>
  <script type="text/javascript" src="api.js"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/jquery/latest/jquery.min.js"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />
  <script type="text/javascript">
      //console.log("hi2");
      //console.log(document.getElementById("final"));
      var api = GeotabApi(function (authenticationCallback) {
      // Handling getting credentials. Deals with these cases:
      //      a) No credentials yet (first page load)
      //      b) The credentials have expired (password changed or server moved)
      //      c) "api.forget()" has been called
      //
      // Show the dialog now & set up listener to callback with credentials
      //
      console.log("init");
      console.log(document.getElementById("final"));
      console.log(authenticationCallback);
      document.getElementById("final").addEventListener("click", function () {
           //event.preventDefault();
           var
           server = document.getElementById("server").value,
           userName = document.getElementById("username").value,
           password = document.getElementById("password").value,
           database = document.getElementById("database").value;
          console.log(server);

           authenticationCallback(server, database, userName, password,
               function (errorString) {
               alert(errorString);
           });
      }, false);
      console.log("leave");
    });

  </script>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>repl.it</title>
     <link href="style.css" rel="stylesheet" type="text/css" />

  </head>
  <body>
    <form>

      <input id="server" type="text" required autofocus />
      <label for="input-1">
        <span class="label-text">Server</span>
        <span class="nav-dot"></span>

      </label>
      <input id="database" type="text"  required />
      <label for="input-2">
        <span class="label-text">Database</span>
        <span class="nav-dot"></span>
      </label>
      <input id="username" type="text"  required />
      <label for="input-3">
        <span class="label-text">Username</span>
        <span class="nav-dot"></span>
      </label>
      <input id="password" type="password" required/>
      <label for="input-4">
        <span class="label-text">Password</span>
        <span class="nav-dot"></span>
      </label>

      <label type="submit" id="final">Submit</label>
      <p class="tip">Press Tab</p>

      <select name="Cars">
        <option value ="LS_Darwin slave">LS_Darwin slave</option>
        <option value ="Spider Car 9">Spider Car 9</option>
        <option value ="Wolf GO8">Wolf GO8</option>
        <option value ="Wolf GO9 ">Wolf GO9</option>

      </select>

    </form>


    <script type="text/javascript">
    api.call("GetVersion", {});
    </script>

  </body>
</html>
